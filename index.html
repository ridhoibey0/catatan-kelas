<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Catatan Pembayaran Kelas</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="assets/css/styles.css" />
  </head>
  <body>
    <header class="top-bar">
      <h1>Catatan Pembayaran Kelas</h1>
      <button id="refreshBtn" class="primary" type="button">Sinkronisasi</button>
    </header>

    <main class="container">
      <section class="section" aria-labelledby="ringkasan">
        <div class="header">
          <h2 id="ringkasan">Ringkasan</h2>
          <p id="summarySubtitle">Monitor pembayaran kas, donasi, dan kewajiban lain.</p>
        </div>
        <div class="control-row">
          <label class="inline-select" for="categorySelect">
            <span>Kategori</span>
            <select id="categorySelect"></select>
          </label>
        </div>
        <div id="summaryCards"></div>
      </section>

      <section class="section" aria-labelledby="tambah">
        <div class="header">
          <h2 id="tambah">Tambah Pembayaran</h2>
          <p id="formSubtitle">Catat pembayaran kas bulanan per siswa dan sinkronkan ke Google Sheets.</p>
        </div>
        <form id="paymentForm">
          <!-- <div class="grid">
            <label>
              Nama Murid
              <select name="name" id="inputName" required>
                <option value="" disabled selected>Pilih nama...</option>
                <option value="Zatnika bintang pamungkas">Zatnika bintang pamungkas</option>
                <option value="Fajar Sodikin Afendi">Fajar Sodikin Afendi</option>
                <option value="Puji Ahmad Rabani">Puji Ahmad Rabani</option>
                <option value="Risma Mailan Nurfalah">Risma Mailan Nurfalah</option>
                <option value="Resti Rahmadaniati">Resti Rahmadaniati</option>
                <option value="Keisya Nabila Azzahra">Keisya Nabila Azzahra</option>
                <option value="Galuh Saeful Dzulpiqar">Galuh Saeful Dzulpiqar</option>
                <option value="Ridho Azkia Azhar">Ridho Azkia Azhar</option>
                <option value="Regita Helya Dewi">Regita Helya Dewi</option>
                <option value="Haykal Fajar Satriani">Haykal Fajar Satriani</option>
                <option value="Gina Ayuni Azzahra">Gina Ayuni Azzahra</option>
                <option value="Sugesty Ibnaty Wadiaturabby">Sugesty Ibnaty Wadiaturabby</option>
                <option value="Usep Indra Ramdani">Usep Indra Ramdani</option>
                <option value="Nazwa Nurul Ramadani">Nazwa Nurul Ramadani</option>
                <option value="Sami Ahmad Nastiar Tatroman">Sami Ahmad Nastiar Tatroman</option>
                <option value="Kurniawan">Kurniawan</option>
                <option value="Hilmiya Zalfa Athiyya Fadhilah">Hilmiya Zalfa Athiyya Fadhilah</option>
                <option value="Muhammad Zalfa Nur Arkan Al-Farabi">Muhammad Zalfa Nur Arkan Al-Farabi</option>
                <option value="Gheana Ghafira Azka">Gheana Ghafira Azka</option>
                <option value="Daffa Khalifadlika Nurhuda">Daffa Khalifadlika Nurhuda</option>
                <option value="Farhans siswandi">Farhans siswandi</option>
                <option value="Krisna Joe Wahana">Krisna Joe Wahana</option>
                <option value="Topan Janu Perianto">Topan Janu Perianto</option>
                <option value="Galuh Santosa">Galuh Santosa</option>
                <option value="Hasni Najmil Arsyi">Hasni Najmil Arsyi</option>
                <option value="Eliza Indriani">Eliza Indriani</option>
                <option value="Nabila Saraswati">Nabila Saraswati</option>
                <option value="Dian Orchita Marshelia">Dian Orchita Marshelia</option>
                <option value="Nurinda Hasbina">Nurinda Hasbina</option>
                <option value="Dary Rifqy Aryasatya">Dary Rifqy Aryasatya</option>
              </select>
            </label>
            <label>
              Bulan Pembayaran
              <select name="month" id="inputMonth" required>
                <option value="" disabled selected>Pilih...</option>
                <option value="Januari">Januari</option>
                <option value="Februari">Februari</option>
                <option value="Maret">Maret</option>
                <option value="April">April</option>
                <option value="Mei">Mei</option>
                <option value="Juni">Juni</option>
                <option value="Juli">Juli</option>
                <option value="Agustus">Agustus</option>
                <option value="September">September</option>
                <option value="Oktober">Oktober</option>
                <option value="November">November</option>
                <option value="Desember">Desember</option>
              </select>
            </label>
            <label>
              Jumlah (Rp)
              <input type="number" name="amount" min="0" step="1000" placeholder="0" required />
            </label>
            <label>
              Metode Update
              <select name="updateMode">
                <option value="add" selected>Tambahkan ke jumlah sebelumnya</option>
                <option value="replace">Ganti total bulan ini</option>
              </select>
            </label>
          </div> -->
               <label>
              Nama Murid
              <select name="name" id="inputName" required>
                <option value="" disabled selected>Pilih nama...</option>
                <option value="Zatnika bintang pamungkas">Zatnika bintang pamungkas</option>
                <option value="Fajar Sodikin Afendi">Fajar Sodikin Afendi</option>
                <option value="Puji Ahmad Rabani">Puji Ahmad Rabani</option>
                <option value="Risma Mailan Nurfalah">Risma Mailan Nurfalah</option>
                <option value="Resti Rahmadaniati">Resti Rahmadaniati</option>
                <option value="Keisya Nabila Azzahra">Keisya Nabila Azzahra</option>
                <option value="Galuh Saeful Dzulpiqar">Galuh Saeful Dzulpiqar</option>
                <option value="Ridho Azkia Azhar">Ridho Azkia Azhar</option>
                <option value="Regita Helya Dewi">Regita Helya Dewi</option>
                <option value="Haykal Fajar Satriani">Haykal Fajar Satriani</option>
                <option value="Gina Ayuni Azzahra">Gina Ayuni Azzahra</option>
                <option value="Sugesty Ibnaty Wadiaturabby">Sugesty Ibnaty Wadiaturabby</option>
                <option value="Usep Indra Ramdani">Usep Indra Ramdani</option>
                <option value="Nazwa Nurul Ramadani">Nazwa Nurul Ramadani</option>
                <option value="Sami Ahmad Nastiar Tatroman">Sami Ahmad Nastiar Tatroman</option>
                <option value="Kurniawan">Kurniawan</option>
                <option value="Hilmiya Zalfa Athiyya Fadhilah">Hilmiya Zalfa Athiyya Fadhilah</option>
                <option value="Muhammad Zalfa Nur Arkan Al-Farabi">Muhammad Zalfa Nur Arkan Al-Farabi</option>
                <option value="Gheana Ghafira Azka">Gheana Ghafira Azka</option>
                <option value="Daffa Khalifadlika Nurhuda">Daffa Khalifadlika Nurhuda</option>
                <option value="Farhans siswandi">Farhans siswandi</option>
                <option value="Krisna Joe Wahana">Krisna Joe Wahana</option>
                <option value="Topan Janu Perianto">Topan Janu Perianto</option>
                <option value="Galuh Santosa">Galuh Santosa</option>
                <option value="Hasni Najmil Arsyi">Hasni Najmil Arsyi</option>
                <option value="Eliza Indriani">Eliza Indriani</option>
                <option value="Nabila Saraswati">Nabila Saraswati</option>
                <option value="Dian Orchita Marshelia">Dian Orchita Marshelia</option>
                <option value="Nurinda Hasbina">Nurinda Hasbina</option>
                <option value="Dary Rifqy Aryasatya">Dary Rifqy Aryasatya</option>
              </select>
            </label>
            <label>
              Bulan Pembayaran
              <select name="month" id="inputMonth" required>
                <option value="" disabled selected>Pilih...</option>
                <option value="Januari">Januari</option>
                <option value="Februari">Februari</option>
                <option value="Maret">Maret</option>
                <option value="April">April</option>
                <option value="Mei">Mei</option>
                <option value="Juni">Juni</option>
                <option value="Juli">Juli</option>
                <option value="Agustus">Agustus</option>
                <option value="September">September</option>
                <option value="Oktober">Oktober</option>
                <option value="November">November</option>
                <option value="Desember">Desember</option>
              </select>
            </label>
            <label>
              Jumlah (Rp)
              <input type="number" name="amount" min="0" step="1000" placeholder="0" required />
            </label>
            <label>
              Metode Update
              <select name="updateMode">
                <option value="add" selected>Tambahkan ke jumlah sebelumnya</option>
                <option value="replace">Ganti total bulan ini</option>
              </select>
            </label>
          <div>
            <button class="primary" type="submit">Simpan dan Sinkronkan</button>
          </div>
        </form>
      </section>

      <section class="section" aria-labelledby="filter">
        <div class="header">
          <h2 id="filter">Pembayaran</h2>
          <p id="tableSubtitle">Pencarian cepat dan filter status.</p>
        </div>
        <div class="filters">
          <input id="filterSearch" type="search" placeholder="Cari nama, keterangan, kategori" />
          <select id="filterStatus">
            <option value="ALL">Semua Status</option>
          </select>
          <select id="filterMonth">
            <option value="ALL">Semua Bulan</option>
            <option value="1">Januari</option>
            <option value="2">Februari</option>
            <option value="3">Maret</option>
            <option value="4">April</option>
            <option value="5">Mei</option>
            <option value="6">Juni</option>
            <option value="7">Juli</option>
            <option value="8">Agustus</option>
            <option value="9">September</option>
            <option value="10">Oktober</option>
            <option value="11">November</option>
            <option value="12">Desember</option>
          </select>
        </div>
        <div class="table-wrapper">
          <table id="paymentsTable">
            <thead>
              <tr>
                <th>Nama</th>
                <th>NPM</th>
                <th>Bulan</th>
                <th>Kategori</th>
                <th>Dibayar</th>
                <th>Target</th>
                <th>Sisa</th>
                <th>Status</th>
                <th>Terakhir</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <span id="tableEmpty" class="hidden">Belum ada data pembayaran.</span>
      </section>

      <section class="section activities" aria-labelledby="aktivitas">
        <div class="header">
          <h2 id="aktivitas">Aktivitas Terbaru</h2>
          <p id="activitySubtitle">Terakhir diperbarui berdasarkan data di Sheets.</p>
        </div>
        <ul id="activityList"></ul>
      </section>
    </main>

    <footer>
      <p>
        &copy; 2025 Catatan Pembayaran Kelas. Dibuat dengan &#10084; oleh
        <a href="https://github.com/ridhoibey0/catatan-kelas" target="_blank">Ridho Ibey</a>
      </p>
    </footer>

    <div id="loadingOverlay" class="hidden" role="status" aria-live="polite">
      <div class="loader" aria-hidden="true"></div>
    </div>

    <div id="toast" class="toast" role="alert" aria-live="assertive"></div>

    <script src="assets/js/config.js" defer></script>
    <script src="assets/js/app.js" defer></script>
  </body>
</html>
